<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sootypage Game Panel â€” Create Server</title>
  <link rel="stylesheet" href="/ui.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">sootypage game panel</div>
    <nav class="nav">
      <a class="navbtn" href="/dashboard.html">Servers</a>
      <a class="navbtn" href="/create.html">Create Server</a>
      <a class="navbtn" href="/files.html">File Manager</a>
      <a class="navbtn" href="/users.html">Users</a>
      <button class="navbtn primary" id="logoutBtn">Logout</button>
    </nav>
  </header>

  <main class="page">
    <section class="card wide">
      <div class="cardhead">
        <h2>Create Server</h2>
        <div class="muted" id="me"></div>
      </div>

      <form id="createForm" class="grid2">
        <label>
          Game
          <select id="game">
            <option value="rust" selected>Rust</option>
            <option value="minecraft">Minecraft</option>
          </select>
        </label>

        <label>
          Server Name
          <input id="name" placeholder="My Server" />
        </label>

        <label>
          Slug
          <input id="slug" placeholder="main" />
          <div class="help">Used for folder + service name. Letters/numbers/-/_ only.</div>
        </label>

        <div></div>

        <!-- Rust -->
        <div id="rustFields" class="fieldset">
          <div class="fieldset-title">Rust Settings</div>
          <div class="grid2">
            <label>Server Port <input id="server_port" type="number" value="28015" /></label>
            <label>Query Port <input id="query_port" type="number" value="28017" /></label>
            <label>RCON Host <input id="rcon_host" value="127.0.0.1" /></label>
            <label>RCON Port <input id="rcon_port" type="number" value="28016" /></label>
            <label>RCON Password <input id="rcon_password" placeholder="(required)" /></label>
            <label>Max Players <input id="maxplayers" type="number" value="50" /></label>
            <label>World Size <input id="worldsize" type="number" value="3500" /></label>
            <label>Seed <input id="seed" type="number" value="0" /></label>
            <label class="check"><input id="modded" type="checkbox" /> Install uMod/Oxide (modded)</label>
          </div>
        </div>

        <!-- Minecraft -->
        <div id="mcFields" class="fieldset" style="display:none">
          <div class="fieldset-title">Minecraft Settings</div>
          <div class="grid2">
            <label>
              Software
              <select id="mc_software">
                <option value="paper" selected>Paper</option>
                <option value="fabric">Fabric</option>
                <option value="forge">Forge</option>
              </select>
            </label>
            <label>Version <input id="mc_version" placeholder="latest" /></label>
            <label>Port <input id="mc_port" type="number" value="25565" /></label>
            <label>RAM (MB) <input id="mc_ram_mb" type="number" value="2048" /></label>
            <label>Max Players <input id="mc_max_players" type="number" value="20" /></label>
            <label style="grid-column:1/-1">MOTD <input id="mc_motd" value="A Minecraft Server" /></label>
          </div>
        </div>

        <div class="actions" style="grid-column:1/-1">
          <button class="btn primary" id="createBtn" type="submit">Create + Install</button>
          <div id="out" class="muted"></div>
        </div>
      </form>
    </section>

    <section class="card wide">
      <div class="cardhead">
        <h3>Install Console</h3>
        <div class="muted">Live stream while installing</div>
      </div>

      <div class="progress">
        <div class="bar" id="progressBar" style="width:0%"></div>
        <div class="label" id="progressLabel">0%</div>
      </div>

      <pre class="console" id="installConsole"></pre>
    </section>
  </main>

  <script src="/app.js"></script>
  <script src="/create.js"></script>
</body>
</html>
